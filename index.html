<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Matrix Full Redesign Fixed</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
 --primary:#1A1F2B;
 --secondary:#00A6A6;
 --accent:#F2C94C;
 --muted:#cccccc;
}
body{margin:0;background:var(--primary);font-family:Poppins;color:white;}
header{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;}
#hamburgerMenu{cursor:pointer;font-size:30px;}
/* menu */
#menuOverlay{position:fixed;inset:0;background:#162636;display:none;flex-direction:column;align-items:center;padding-top:100px;z-index:9999;}
.menu-top{position:absolute;top:20px;right:20px;display:flex;gap:20px;}
#menuLang{width:36px;cursor:pointer;}
#menuClose{font-size:40px;color:#E4307A;cursor:pointer;}
.menuLinks{list-style:none;text-align:center;padding:0;}
.menuLinks li{margin:18px 0;}
.menuLinks a{color:white;font-size:30px;text-decoration:none;font-weight:600;}
/* hero */
.section{padding:30px;}
.day-nav{display:flex;gap:10px;margin-top:10px;}
.day-nav a{padding:6px 16px;background:#223040;color:white;border-radius:20px;text-decoration:none;}
.day-nav a.active{background:var(--secondary);color:black;}
#searchInput{width:60%;padding:14px;border-radius:30px;border:none;margin-top:10px;font-size:16px;}
/* events */
.events-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:20px;}
.event-card{background:#162636;border-radius:14px;overflow:hidden;}
.event-card img{width:100%;height:200px;object-fit:cover;}
.event-info{padding:15px;}
.event-buttons a{display:inline-block;padding:10px 16px;border-radius:30px;font-weight:600;text-decoration:none;margin-top:10px;}
.more-btn{background:var(--secondary);color:black;}
.download-btn{background:#E4307A;color:white;}
/* photos */
.photos-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:12px;margin-top:20px;}
.photo-wrapper{position:relative;cursor:pointer;}
.photo-wrapper img{width:100%;height:150px;object-fit:cover;border-radius:8px;}
.photo-overlay{position:absolute;inset:0;background:rgba(0,0,0,0.6);display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:.2s;border-radius:8px;}
.photo-overlay div,.photo-overlay a{background:var(--secondary);padding:6px 12px;border-radius:20px;margin:4px;color:black;font-weight:600;text-decoration:none;}
.photo-wrapper:hover .photo-overlay{opacity:1;}
/* photo modal */
#photoModal{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:none;justify-content:center;align-items:center;z-index:20000;}
#photoModalImg{max-width:90%;max-height:90%;border-radius:12px;}
#closePhotoModal{position:absolute;top:20px;right:30px;font-size:40px;cursor:pointer;}
</style>
</head>
<body>

<header>
 <h1>MÁTRIX</h1>
 <span id="hamburgerMenu">☰</span>
</header>

<!-- menu overlay -->
<div id="menuOverlay">
 <div class="menu-top">
   <img src="https://flagcdn.com/w40/de.png" id="menuLang">
   <span id="menuClose">&times;</span>
 </div>
 <ul class="menuLinks">
   <li><a href="#">Clubnights</a></li>
   <li><a href="#">Photos</a></li>
   <li><a href="#">Contact</a></li>
 </ul>
</div>

<div class="section">
 <h2>Clubnights</h2>
 <input id="searchInput" placeholder="Search events...">
 <div class="day-nav">
   <a href="#" class="active">Today</a>
   <a href="#">Wed</a><a href="#">Thu</a><a href="#">Fri</a>
 </div>

 <div id="eventsGrid" class="events-grid"></div>
 <p id="noResults" style="display:none;text-align:center;color:var(--muted);">No events found.</p>
</div>

<div class="section">
 <h2>Newest Photos</h2>
 <div id="photosGrid" class="photos-grid"></div>
</div>

<div id="photoModal">
 <span id="closePhotoModal">&times;</span>
 <img id="photoModalImg">
</div>

<script>
// menu
const menuOverlay=document.getElementById("menuOverlay");
document.getElementById("hamburgerMenu").onclick=()=>menuOverlay.style.display="flex";
document.getElementById("menuClose").onclick=()=>menuOverlay.style.display="none";

// language toggle
document.getElementById("menuLang").onclick=toggleLang;
function toggleLang(){
 let flag=document.getElementById("menuLang");
 if(flag.src.includes("/de.png")) flag.src="https://flagcdn.com/w40/gb.png";
 else flag.src="https://flagcdn.com/w40/de.png";
}

// events
const events=[
 {title:"Matrix Thursday",date:"2025-12-11",img:"https://i.imgur.com/tBcdp0T.jpeg"},
 {title:"Matrix Friday",date:"2025-12-12",img:"https://i.imgur.com/I5jZlQk.jpeg"},
 {title:"NYE 2025 / 26",date:"2025-12-31",img:"https://i.imgur.com/dk0nXEL.jpeg"}
];

function daysLeft(d){
 let diff=(new Date(d)-new Date())/(1000*60*60*24);
 diff=Math.ceil(diff);
 if(diff<=3) return `<span style='color:red;'>${diff} days left</span>`;
 if(diff<=7) return `<span style='color:yellow;'>${diff} days left</span>`;
 return `<span style='color:lightgreen;'>${diff} days left</span>`;
}

function renderEvents(list){
 const grid=document.getElementById("eventsGrid");
 const noRes=document.getElementById("noResults");
 grid.innerHTML="";
 if(!list.length){noRes.style.display="block";return;}
 noRes.style.display="none";
 list.forEach(e=>{
  grid.innerHTML+=`
   <div class='event-card'>
     <img src="${e.img}">
     <div class='event-info'>
      <h3>${e.title}</h3>
      <p>${e.date}</p>
      <p>${daysLeft(e.date)}</p>
      <a class='download-btn' href="#" onclick="forceDownload('${e.img}')">Download</a>
     </div>
   </div>`;
 });
}
renderEvents(events);

// search
document.getElementById("searchInput").oninput=e=>{
 let q=e.target.value.toLowerCase();
 renderEvents(events.filter(ev=>ev.title.toLowerCase().includes(q)));
};

// photos
const photos=[
 "https://i.imgur.com/u7Qyqvq.jpeg",
 "https://i.imgur.com/Bah0b2s.jpeg",
 "https://i.imgur.com/Ti7mjUH.jpeg"
];
const pg=document.getElementById("photosGrid");

photos.forEach(src=>{
 let box=document.createElement("div");
 box.className="photo-wrapper";
 box.innerHTML=`
  <img src="${src}">
  <div class='photo-overlay'>
    <div onclick="openPhoto('${src}')">Tap to Open</div>
    <a onclick="forceDownload('${src}')">Download</a>
  </div>`;
 box.onclick=()=>openPhoto(src);
 pg.appendChild(box);
});

// photo modal
function openPhoto(src){
 document.getElementById("photoModalImg").src=src;
 document.getElementById("photoModal").style.display="flex";
}
document.getElementById("closePhotoModal").onclick=()=>document.getElementById("photoModal").style.display="none";

// force download
async function forceDownload(url){
 const blob=await fetch(url).then(r=>r.blob());
 const a=document.createElement("a");
 a.href=URL.createObjectURL(blob);
 a.download="matrix-image.jpg";
 a.click();
}
</script>

</body>
</html>
